---
title: Vivliostyle version 2019.8.100 リリース！ ソースコードTypeScript化
lang: ja
author: murakami
---

Vivliostyle version 2019.8.100 をリリースしました。

（最新の [Vivliostyle Viewer](https://vivliostyle.github.io/vivliostyle.js/viewer/vivliostyle-viewer.html) および [ユーザーガイド](https://vivliostyle.github.io/vivliostyle.js/docs/ja/) をご覧ください。）

### Vivliostyle.js ソースコードを TypeScript に移行

Vivliostyle.js の元プロジェクトは2013年頃にGoogleの[Peter Sorotokin](https://twitter.com/sorotokin)氏が開発した [EPUB Adaptive Layout 実装](https://github.com/sorotokin/adaptive-layout)で、そのソースコードは、JavaScript (ES5)と [Closure Compiler のための型注釈](https://github.com/google/closure-compiler/wiki/Annotating-JavaScript-for-the-Closure-Compiler)を用いて書かれていました。Vivliostyle.js（2018年初めの[Vivliostyleの組織再編](https://vivliostyle.org/ja/blog/2018/03/26/a-new-beginning/)までメイン開発者は[Toru Kawakubo](https://twitter.com/kwkbtr_t)氏）は、その同じソースコードスタイルを踏襲して開発されてきました。

このES5のJavaScriptスタイルは古くなり今後の維持が難しいため、私たちはこれをTypeScriptに移行することを決め、そしていま [TypeScriptへの移行が完了](https://github.com/vivliostyle/vivliostyle.js/tree/master/src/ts)しました。[[#536]](https://github.com/vivliostyle/vivliostyle.js/pull/536)

ソースコードがTypeScript化されたことで、オープンソースVivliostyle開発への貢献が活発になることを期待しています。

開発については、[Development document](https://github.com/vivliostyle/vivliostyle.js/wiki/Development)をご覧ください。

### その他の変更と修正

- TypeScriptソースコード用に再編されたビルドスクリプト
  - 複数ターゲットへのトランスパイル： `lib/vivliostyle.min.js` for ES2018、 `lib/vivliostyle-es5.min.js` for ES5. [[#538]](https://github.com/vivliostyle/vivliostyle.js/pull/538)
- UAスタイルシートなどのリソースを別個にダウンロードしないようにした [[#537]](https://github.com/vivliostyle/vivliostyle.js/pull/537)
- これまでダウンロードパッケージとnpmパッケージに同梱されていた大きなサンプルファイルを削除 [[5c3becac]](https://github.com/vivliostyle/vivliostyle.js/commit/5c3becac) [[245c9e7d]](https://github.com/vivliostyle/vivliostyle.js/commit/245c9e7d)
  - これによりダウンロードパッケージ (vivliostyle-js-latest.zip) のサイズが以前は6.8MBあったのが1.4MBに縮小されました。
  - Vivliostyleのサンプルファイルは、vivliostyle.jsから [vivliostyle_doc](https://github.com/vivliostyle/vivliostyle_doc) リポジトリに移動しました。
- Microsoft EdgeでWeb publicationをロードしたときのエラー "Failed to fetch a source document" を修正 [[1ed01afc]](https://github.com/vivliostyle/vivliostyle.js/commit/1ed01afc)
- EPUB OPF (.opf) のMIMEタイプを認識しない一部のWebサーバーでのエラー "empty response for EPUB OPF" を修正 [[db8e9bcb]](https://github.com/vivliostyle/vivliostyle.js/commit/db8e9bcb)

### 過去のリリースの概要


- [Vivliostyle バージョン 2019.1.106](https://vivliostyle.org/ja/blog/2019/06/14/vivliostyle-2019.1.106-released/): 最後のJavaScriptソースコードのバージョン
- [Vivliostyle バージョン 2019.1.101](https://vivliostyle.org/ja/blog/2019/02/27/vivliostyle-2019.1.101-released/): Viewer UIに目次パネル, Web publications (複数HTML文書), GitHubからの文書ロード, `env(pub-title)` と `env(doc-title)`, ビューポート・パーセント単位, `calc()`, Viewer UI 設定パネル改良, Viewerスタートページ, Render All Pages 設定, `vivliostyle` メディア型
- [Vivliostyle バージョン 2018.10.100](https://vivliostyle.org/ja/blog/2018/10/31/vivliostyle-2018.10.100-released/): Viewer UIにページ番号／総ページ数
- [Vivliostyle バージョン 2018.8.100](https://vivliostyle.org/ja/blog/2018/09/10/vivliostyle-2018.8.100-released/): Viewer UI 改良, CSS論理プロパティ

詳細については、[Release Notes](https://github.com/vivliostyle/vivliostyle.js/releases) を参照してください。
